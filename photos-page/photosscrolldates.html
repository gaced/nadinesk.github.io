
<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

<style>

body {
    background: #BDEC8E; 
    color: #F49EFF;
    margin: 0px;   
    padding: 0px;
}


#cog {
    background: url('http://www.khasachi.com/photos-page/photos/05.25.13.jpg'); 
    background-size: cover;
    border-radius: 2px;
    width: 550px;
    height: 414px;
    margin-top: 200px;
    margin-left: auto;
    margin-right: auto;
    transform: rotate(4deg);
    transform-origin: top left;
    transition: 1s easeOutQuint;
    overflow: hidden;   
}


.dates-text {
    background-color:rgba(0,0,0,0.3);
    padding: 30% 0%;
    display: none;
    color: white;
    z-index: 1;
}

#cog:hover .dates-text {
        -moz-animation-duration: 0.5s;    
        -webkit-animation-duration: 0.5s;
        -moz-animation-name: slidetext; 
        -webkit-animation-name: slidetext;
        border-radius: 2px;
        font-family: 'Open Sans', sans-serif;
        text-align: center;
        font-size: 48px;
        display: block;
        margin-top: 100%;
        height: 100%;
        color: white;
        animation-fill-mode: forwards;
}


@-webkit-keyframes slidetext {
        from {
            overflow: hidden;
            margin-top: 100%;
                width:100%;
            }
            
        90% {
        
        }
            
        to {
            
            margin-top: 0%;
            width:100%;

            
            }
        }    

#cog2 {
    background: url('http://www.khasachi.com/photos-page/photos/06.17.13.JPG'); 
    background-size: cover;
    border-radius: 2px;
    width: 550px;
    height: 414px;
    margin-top: 50px;
    margin-left: auto;
    margin-right: auto;
    transform: rotate(4deg);
    transform-origin: top left;
    transition: 1s easeOutQuint;
    overflow: hidden;   
}


.dates-text1 {
    background-color:rgba(0,0,0,0.3);
    padding: 30% 0%;
    display: none;
    color: white;
    z-index: 1;
}

#cog2:hover .dates-text1 {
        -moz-animation-duration: 0.5s;    
        -webkit-animation-duration: 0.5s;
        -moz-animation-name: slidetextOne; 
        -webkit-animation-name: slidetextOne;
        border-radius: 2px;
        font-family: 'Open Sans', sans-serif;
        text-align: center;
        font-size: 48px;
        display: block;
        margin-top: 100%;
        height: 100%;
        color: white;
        animation-fill-mode: forwards;
}


@-webkit-keyframes slidetextOne {
        from {
            overflow: hidden;
            margin-top: 100%;
                width:100%;
            }
            
        90% {
        
        }
            
        to {
            
            margin-top: 0%;
            width:100%;

            
            }
        }   


#cog3 {
    background: url('http://www.khasachi.com/photos-page/photos/07.25.13.JPG'); 
    background-size: cover;
    border-radius: 2px;
    width: 550px;
    height: 414px;
    margin-top: 50px;
    margin-left: auto;
    margin-right: auto;
    transform: rotate(4deg);
    transform-origin: top left;
    transition: 1s easeOutQuint;
    overflow: hidden;
}

.dates-text2 {
    background-color:rgba(0,0,0,0.3);
    padding: 30% 0%;
    display: none;
    color: white;
    z-index: 1;
}

#cog3:hover .dates-text2 {
        -moz-animation-duration: 0.5s;    
        -webkit-animation-duration: 0.5s;
        -moz-animation-name: slidetextTwo; 
        -webkit-animation-name: slidetextTwo;
        border-radius: 2px;
        font-family: 'Open Sans', sans-serif;
        text-align: center;
        font-size: 48px;
        display: block;
        margin-top: 100%;
        height: 100%;
        color: white;
        animation-fill-mode: forwards;
}


@-webkit-keyframes slidetextTwo {
        from {
            overflow: hidden;
            margin-top: 100%;
                width:100%;
            }
            
        90% {
        
        }
            
        to {
            
            margin-top: 0%;
            width:100%;

            
            }
        }   


#cog4 {
    background: url('http://www.khasachi.com/photos-page/photos/08.24.13.JPG');
    background-size: cover;
    border-radius: 2px;
    width: 550px;
    height: 414px;
    margin-top: 50px;
    margin-left: auto;
    margin-right: auto;
    transform: rotate(-4deg);
    transform-origin: top left;
    transition: 1s easeOutQuint;
    margin-bottom: 100px;
    overflow: hidden;
}

.dates-text3 {
    background-color:rgba(0,0,0,0.3);
    padding: 30% 0%;
    display: none;
    color: white;
    z-index: 1;
}

#cog4:hover .dates-text3 {
        -moz-animation-duration: 0.5s;    
        -webkit-animation-duration: 0.5s;
        -moz-animation-name: slidetextThree; 
        -webkit-animation-name: slidetextThree;
        border-radius: 2px;
        font-family: 'Open Sans', sans-serif;
        text-align: center;
        font-size: 48px;
        display: block;
        margin-top: 100%;
        height: 100%;
        color: white;
        animation-fill-mode: forwards;
}


@-webkit-keyframes slidetextThree {
        from {
            overflow: hidden;
            margin-top: 100%;
                width:100%;
            }
            
        90% {
        
        }
            
        to {
            
            margin-top: 0%;
            width:100%;

            
            }
        }  




</style>




</head>

<body>
        <div id="cog" >
            <p class="dates-text">May 25, 2013</p>
        </div>
    

      <div id="cog2" >
            <p class="dates-text1">June 17, 2013</p>
        </div>
    <div id="cog3">
        <p class="dates-text2">July 25, 2013</p>
    </div>
    <div id="cog4">
        <p class="dates-text3">August 24, 2013</p>
    </div>

<script>

(function($){

    /**
     * Copyright 2012, Digital Fusion
     * Licensed under the MIT license.
     * http://teamdf.com/jquery-plugins/license/
     *
     * @author Sam Sehnert
     * @desc A small plugin that checks whether elements are within
     *       the user visible viewport of a web browser.
     *       only accounts for vertical position, not horizontal.
     */
    $.fn.visible = function(partial){
        
        var $t              = $(this),
            $w              = $(window),
            viewTop         = $w.scrollTop(),
            viewBottom      = viewTop + $w.height(),
            _top            = $t.offset().top,
            _bottom         = _top + $t.height(),
            compareTop      = partial === true ? _bottom : _top,
            compareBottom   = partial === true ? _top : _bottom;
        
        return ((compareBottom <= viewBottom) && (compareTop >= viewTop));
    };
    
})(jQuery);

$(document).ready(function(){
     $(this).scrollTop(0);
var $cog = $('#cog');
var $cog2 = $('#cog2');
var $cog3 = $('#cog3');
var $cog4 = $('#cog4');

var scrollTop =$(window).scrollTop();

var cog1Offset = $("#cog").offset().top;
var cog2Offset = $("#cog2").offset().top;
var cog3Offset = $("#cog3").offset().top;
var cog4Offset = $("#cog4").offset().top;

/*var distanceOneInit = ((cog1Offset - scrollTop)/$(window).height()) * 100;
var distanceTwoInit = ((cog2Offset - scrollTop)/$(window).height()) * 100;
var distanceThreeInit = ((cog3Offset - scrollTop)/$(window).height()) * 100;
var distanceFourInit = ((cog4Offset - scrollTop)/$(window).height()) * 100; */

$(window).scroll(function () {
    var scrollTopMove =$(window).scrollTop();

    var cog1MovingOffset = $("#cog").offset().top - scrollTopMove;
    var cog2MovingOffset = $("#cog2").offset().top - scrollTopMove;
    var cog3MovingOffset = $("#cog3").offset().top - scrollTopMove;
    var cog4MovingOffset = $("#cog4").offset().top - scrollTopMove;
    var win = $(window).height(); 

   /* var distanceOneMove = ((cog1MovingOffset - scrollTop)/$(window).height()) * 100;
    var distanceTwoMove = ((cog2MovingOffset - scrollTop)/$(window).height()) * 100;
    var distanceThreeMove = ((cog3MovingOffset - scrollTop)/$(window).height()) * 100;
    var distanceFourMove = ((cog4MovingOffset - scrollTop)/$(window).height()) * 100; */
            
    /*console.log("static1", cog1Offset);
    console.log("movin1",cog1MovingOffset); */
    console.log("static2", cog2Offset);
    console.log("movin2",cog2MovingOffset);
    console.log("static offset", $("#cog2").offset().top);
    /*console.log("static3", cog3Offset);
    console.log("movin3",cog3MovingOffset);*/
    console.log("scrolltop", scrollTopMove); 
    console.log("win height", win);
    /*console.log("static4", cog4Offset);
    console.log("movin4",cog4MovingOffset);*/
    
    if ($(cog).visible(true))
    {
         $cog.css({
                'transform': 'rotate('  + 5 +  'deg)'
            });
        $cog.css({
                'transform-origin': 'top left'
            });
    }

    if ($(cog).visible(false))
    {
         $cog.css({
                'transform': 'rotate('  + 0 +  'deg)'
            });
        $cog.css({
                'transform-origin': 'top left'
            });
    }

    if ($(cog2).visible(true))
    {
         $cog2.css({
                'transform': 'rotate('  + -5 +  'deg)'
            });
        $cog2.css({
                'transform-origin': 'top right'
            });
    }

    if ($(cog2).visible(false))
    {
         $cog2.css({
                'transform': 'rotate('  + 0 +  'deg)'
            });
            
        $cog2.css({
                'transform-origin': 'top right'
            });
        
    }

    if ($(cog3).visible(true))
    {
         $cog3.css({
                'transform': 'rotate('  + 5 +  'deg)'
            });
        $cog3.css({
                'transform-origin': 'top left'
            });
    }

        if ($(cog3).visible(false))
    {
         $cog3.css({
                'transform': 'rotate('  + 0 +  'deg)'
            });
            
        $cog3.css({
                'transform-origin': 'top left'
            });
        
    }

        if ($(cog4).visible(true))
    {
         $cog4.css({
                'transform': 'rotate('  + -5 +  'deg)'
            });
        $cog4.css({
                'transform-origin': 'top right'
            });
    }

       if ($(cog4).visible(false))/*if (cog4MovingOffset > (cog4Offset/2)) || ($(window).scrollTop() + $(window).height() > $(document).height() - 100)) */
    {
         $cog4.css({
                'transform': 'rotate('  + 0 +  'deg)'
            });
            
        $cog4.css({
                'transform-origin': 'top right'
            });
        
    }




    
    });




});






</script>
</body>



</html>