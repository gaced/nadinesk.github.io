---
layout: post
title: U.S. Unemployment Rates, 2000-2013
date: 2014-07-10 05:00:41.000000000 -04:00
categories: []
tags: []
status: draft
type: post
published: false
meta:
  _edit_last: '86243357'
  _rawhtml_settings: '0,0,0,0'
  original_post_id: '58'
  _wp_old_slug: '58'
author:
  login: khasachi
  email: khatsachi@gmail.com
  display_name: khasachi
  first_name: ''
  last_name: ''
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p><!--raw--></p>
<p>		D3: Setting path fills dynamically to generate a choropleth</p>
<p>		svg {<br />
		  font: 10px sans-serif;<br />
		}</p>
<p>		.points {<br />
		  fill: red;<br />
		}</p>
<p>		.caption {<br />
		  font-weight: bold;<br />
		}</p>
<p>		.key path {<br />
		  display: none;<br />
		}</p>
<p>		.key line {<br />
		  stroke: #000;<br />
		  shape-rendering: crispEdges;<br />
		}</p>
<p>		.key text {<br />
	        font-size: 10px;<br />
	    }</p>
<p>		.tooltip {<br />
		  position: absolute;<br />
		  text-align: center;<br />
		  width: 60px;<br />
		  height: 12px;<br />
		  padding: 8px;<br />
		  font: 10px sans-serif;<br />
		  background: #ddd;<br />
		  border: solid 1px #aaa;<br />
		  border-radius: 8px;<br />
		  pointer-events: none;<br />
		}</p>
<p>		p.yr2000<br />
			{font: 10px sans-serif;<br />
			 padding-bottom:0px;<br />
			 cursor:pointer;<br />
				}<br />
		p.yr2001<br />
			 {font: 10px sans-serif;<br />
			  padding-top: 0px;<br />
			 cursor:pointer;<br />
				}<br />
		p.yr2002<br />
			{font: 10px sans-serif;<br />
     		 padding-bottom:0px;<br />
			}<br />
		p.yr2003<br />
		 	{font: 10px sans-serif;<br />
			 padding-top: 0px;<br />
			}<br />
		p.yr2004<br />
			{font: 10px sans-serif;<br />
			 padding-top: 0px;<br />
			}<br />
		p.yr2005<br />
			{font: 10px sans-serif;<br />
		 		padding-top: 0px;<br />
			}<br />
 		p.yr2006<br />
 			{font: 10px sans-serif;<br />
  				padding-top: 0px;<br />
			}<br />
		p.yr2007<br />
	 		{font: 10px sans-serif;<br />
	  			padding-top: 0px;<br />
			}<br />
        p.yr2008<br />
        	{font: 10px sans-serif;<br />
         		padding-top: 0px;<br />
        	}<br />
        p.yr2009<br />
        	{font: 10px sans-serif;<br />
        		padding-top: 0px;<br />
        	}<br />
        p.yr2010<br />
        	{font: 10px sans-serif;<br />
        		padding-top: 0px;<br />
        	}<br />
        p.yr2011<br />
        	{font: 10px sans-serif;<br />
         		padding-top: 0px;<br />
        	}<br />
        p.yr2012<br />
        	{font: 10px sans-serif;<br />
        		padding-top: 0px;<br />
        	}<br />
        p.yr2013<br />
        	{font: 10px sans-serif;<br />
        		padding-top: 0px;<br />
        	}<br />
		.titlestuff<br />
	    	{font: 11px sans-serif;<br />
	    		padding-top: 0px;<br />
				font-weight: bold;<br />
	    	}<br />
		div.years<br />
			{background-color:yellow;<br />
				}</p>
<p>&lt;!--
<p class="yr2000">2000, U.S. 4.0% </p>
<p class="yr2001"> 2001, U.S. 4.7%</p>
<p class="yr2002"> 2002, U.S. 5.8%</p>
<p class="yr2003"> 2003, U.S. 5.8%</p>
<p class="yr2004"> 2004, U.S. 5.8%</p>
<p class="yr2005"> 2005, U.S. 5.8%</p>
<p>  --&gt;</p>
<p>			//Width and height<br />
			var w = 500;<br />
			var h = 500;<br />
			var formatPercent = d3.format(".0%");<br />
			var maxscale = 7;</p>
<p>			//Define map projection<br />
			var projection = d3.geo.albersUsa()<br />
								   .translate([w/2, h/2])<br />
								   .scale([800]);</p>
<p>			//Define path generator<br />
			var path = d3.geo.path()<br />
							 .projection(projection);</p>
<p>			//Define quantize scale to sort data values into buckets of color<br />
			var qrange = function(max, num) {<br />
			    var a = [];<br />
			    for (var i=0; i&lt;num; i++) {<br />
			        a.push(i*max/num);<br />
			    }<br />
			    return a;<br />
			}<br />
			var color = d3.scale.quantize()<br />
			.domain([0.0,0.10])<br />
								.range([&quot;#f2f0f7&quot;, &quot;#dadaeb&quot;, &quot;#bcbddc&quot;, &quot;#9e9ac8&quot;, &quot;#807dba&quot;, &quot;#6a51a3&quot;, &quot;#4a1486&quot;]);<br />
								//Colors taken from colorbrewer.js, included in the D3 download</p>
<p>			//Create SVG element</p>
<p>			var svg = d3.select(&quot;.post-58 post type-post status-publish format-standard hentry category-uncategorized&quot;)<br />
						.append(&quot;svg&quot;)<br />
						.attr(&quot;width&quot;, w)<br />
						.attr(&quot;height&quot;, h);</p>
<p>			//Load in agriculture data<br />
	var csving =		d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2000.csv&quot;, function(data) {</p>
<p>				//Set input domain for color scale<br />
				//color.domain([<br />
				//	d3.min(data, function(d) { return d.value; }),<br />
				//	d3.max(data, function(d) { return d.value; })<br />
				//]);</p>
<p>				//Load in GeoJSON data<br />
		d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>					//Merge the ag. data and GeoJSON<br />
					//Loop through once for each ag. data value<br />
					for (var i = 0; i &lt; data.length; i++) {</p>
<p>						//Grab state name<br />
						var dataState = data[i].state;</p>
<p>						//Grab data value, and convert from string to float<br />
						var dataValue = parseFloat(data[i].value);</p>
<p>						//Find the corresponding state inside the GeoJSON<br />
						for (var j = 0; j &lt; json.features.length; j++) {</p>
<p>							var jsonState = json.features[j].properties.name;</p>
<p>							if (dataState == jsonState) {</p>
<p>								//Copy the data value into the JSON<br />
								json.features[j].properties.value = dataValue;</p>
<p>								//Stop looking through the JSON<br />
								break;</p>
<p>							}<br />
						}<br />
					}</p>
<p>					//Bind data and create one path per GeoJSON feature<br />
					var temp = svg.selectAll(&quot;path&quot;)<br />
					   .data(json.features)<br />
					   .enter()<br />
					   .append(&quot;path&quot;)<br />
					   .attr(&quot;d&quot;, path)<br />
					   .style(&quot;fill&quot;, function(d) {<br />
					   		//Get data value<br />
					   		var value = d.properties.value;</p>
<p>					   		if (value) {<br />
					   			//If value exists…<br />
						   		return color(value);<br />
					   		} else {<br />
					   			//If value is undefined…<br />
						   		return &quot;#ccc&quot;;<br />
					   		}<br />
					   })</p>
<p>					  console.log(temp)</p>
<p>					  temp.on(&quot;mouseover&quot;, function(d) {<br />
					                    var xPosition = d3.mouse(this)[0];<br />
					                    var yPosition = d3.mouse(this)[1] - 30;</p>
<p>					                    svg.append(&quot;text&quot;)<br />
					                        .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
					                        .attr(&quot;x&quot;, xPosition)<br />
					                        .attr(&quot;y&quot;, yPosition)<br />
					                        .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
					                        .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
					                        .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
					                        .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
					                        .attr(&quot;fill&quot;, &quot;black&quot;)<br />
					                        .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>					                    d3.select(this)<br />
					                    .style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
					                })<br />
					.on(&quot;mouseout&quot;, function(d) {<br />
					                    d3.select(&quot;#tooltip&quot;).remove();<br />
					                    d3.select(this)<br />
					                    .transition()<br />
					                    .duration(250)<br />
					        			.style(&quot;fill&quot;, function(d) {<br />
										   		//Get data value<br />
										   		var value = d.properties.value;</p>
<p>										   		if (value) {<br />
										   			//If value exists…<br />
											   		return color(value);<br />
										   		} else {<br />
										   			//If value is undefined…<br />
											   		return &quot;#ccc&quot;;<br />
										   		}<br />
					                });<br />
					})</p>
<p>					  var x = d3.scale.linear()<br />
					    .domain([0, 0.12])<br />
					    .range([0, 200]);</p>
<p>					  var xAxis = d3.svg.axis()<br />
					    .scale(x)<br />
					    .orient(&quot;bottom&quot;)<br />
					    .tickSize(14)<br />
					    .tickValues(qrange(color.domain()[1], color.range().length))<br />
					    .tickFormat(function(d) { return formatPercent(d); });</p>
<p>					  var g = svg.append(&quot;g&quot;)<br />
					    .attr(&quot;class&quot;, &quot;key&quot;)<br />
					    .attr(&quot;transform&quot;, &quot;translate( 50,&quot; + h * 8 / 9 + &quot;)&quot;);</p>
<p>					  g.selectAll(&quot;rect&quot;)<br />
					    .data(color.range().map(function(color1) {<br />
					      var d = color.invertExtent(color1);<br />
					      if (d[0] == null) d[0] = x.domain()[0];<br />
					      if (d[1] == null) d[1] = x.domain()[1];<br />
					      return d;<br />
					    }))<br />
					  .enter().append(&quot;rect&quot;)<br />
					    .attr(&quot;height&quot;, 10)<br />
					    .attr(&quot;x&quot;, function(d) { return x(d[0]); })<br />
					    .attr(&quot;width&quot;, function(d) { return x(d[1]) - x(d[0]); })<br />
					    .style(&quot;fill&quot;, function(d) { return color(d[0]); });</p>
<p>					  g.call(xAxis).append(&quot;text&quot;)<br />
					    .attr(&quot;class&quot;, &quot;caption&quot;)<br />
					    .attr(&quot;y&quot;, -6)<br />
					    .text(&quot;Unemployment Rate&quot;);</p>
<p>						svg.append(&quot;text&quot;)<br />
	   				.attr(&quot;class&quot;, &quot;titlestuff&quot;)<br />
	   			//.attr(&quot;x&quot;, w * 1/2)<br />
	   			.attr(&quot;y&quot;, h * 0.08)<br />
	   		//	.attr(&quot;class&quot;, &quot;yr2000&quot;)<br />
	            // .attr(&quot;font-size&quot;, &quot;20px&quot;)<br />
	            //.attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
	        //  .attr(&quot;fill&quot;, &quot;black&quot;)<br />
	      		.text(&quot;Year, U.S. Unemployment Rate (Select a Year to see State Rates by Year)&quot;)<br />
	   			.style(&quot;cursor&quot;, &quot;pointer&quot;)					 	</p>
<p>				    svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2000&quot;)<br />
							//.attr(&quot;x&quot;, w * 1/2)<br />
							.attr(&quot;y&quot;, h * 0.14)<br />
						//	.attr(&quot;class&quot;, &quot;yr2000&quot;)<br />
	                     // .attr(&quot;font-size&quot;, &quot;20px&quot;)<br />
	                     //.attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
	                 //  .attr(&quot;fill&quot;, &quot;black&quot;)<br />
	               .text(&quot;2000, 4.0%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2001&quot;)<br />
					.attr(&quot;y&quot;, h * 0.17)<br />
	               .text(&quot;2001, 4.7%&quot;)<br />
				   .style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2002&quot;)<br />
					.attr(&quot;y&quot;, h * 0.20)<br />
	               .text(&quot;2002, 5.8%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)	</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2003&quot;)<br />
					.attr(&quot;y&quot;, h * 0.23)<br />
	               .text(&quot;2003, 6.0%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2004&quot;)<br />
					.attr(&quot;y&quot;, h * 0.26)<br />
	               .text(&quot;2004, 5.5%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2005&quot;)<br />
					.attr(&quot;y&quot;, h * 0.29)<br />
	               .text(&quot;2005, 5.1%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2006&quot;)<br />
					.attr(&quot;y&quot;, h * 0.32)<br />
	               .text(&quot;2006, 4.6%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)					</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2007&quot;)<br />
					.attr(&quot;y&quot;, h * 0.35)<br />
	               .text(&quot;2007, 4.6%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)	</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2008&quot;)<br />
					.attr(&quot;y&quot;, h * 0.38)<br />
	               .text(&quot;2008, 5.8%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)									</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2009&quot;)<br />
					.attr(&quot;y&quot;, h * 0.41)<br />
	               .text(&quot;2009, 9.3%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2010&quot;)<br />
					.attr(&quot;y&quot;, h * 0.44)<br />
	               .text(&quot;2010, 9.6%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2011&quot;)<br />
					.attr(&quot;y&quot;, h * 0.47)<br />
	               .text(&quot;2011, 8.9%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2012&quot;)<br />
					.attr(&quot;y&quot;, h * 0.50)<br />
	               .text(&quot;2012, 8.1%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>					svg.append(&quot;text&quot;)<br />
					.attr(&quot;class&quot;, &quot;yr2013&quot;)<br />
					.attr(&quot;y&quot;, h * 0.53)<br />
	               .text(&quot;2013, 7.4%&quot;)<br />
					.style(&quot;cursor&quot;, &quot;pointer&quot;)</p>
<p>	d3.select(&quot;.yr2000&quot;)<br />
	.on(&quot;click&quot;, function() {<br />
	//Do something mundane and annoying on click<br />
    d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;).style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
	d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;).style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;).style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;)<br />
	d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	.style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.csv(&quot;unemployment2000.csv&quot;, function(data) {</p>
<p>		//Set input domain for color scale<br />
		//color.domain([<br />
		//	d3.min(data, function(d) { return d.value; }),<br />
		//	d3.max(data, function(d) { return d.value; })<br />
		//]);</p>
<p>		//Load in GeoJSON data<br />
		d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>			for (var i = 0; i &lt; data.length; i++) {</p>
<p>	     	var dataState = data[i].state;</p>
<p>	     	var dataValue = parseFloat(data[i].value);<br />
	     	for (var j = 0; j &lt; json.features.length; j++) {</p>
<p>	     		var jsonState = json.features[j].properties.name;</p>
<p>	     		if (dataState == jsonState) {</p>
<p>	     			json.features[j].properties.value = dataValue;</p>
<p>	     			break;<br />
	     		}<br />
	     	}<br />
	     }</p>
<p>			//Bind data and create one path per GeoJSON feature<br />
				var temp = svg.selectAll(&quot;path&quot;)<br />
				   .data(json.features)</p>
<p>				temp.transition()<br />
					.duration(1000)<br />
				   .ease(&quot;linear&quot;)<br />
			   	   .attr(&quot;d&quot;, path)</p>
<p>				   .style(&quot;fill&quot;, function(d) {<br />
				   		//Get data value<br />
				   		var value = d.properties.value;</p>
<p>				   		if (value) {<br />
				   			//If value exists…<br />
					   		return color(value);<br />
				   		} else {<br />
				   			//If value is undefined…<br />
					   		return &quot;#ccc&quot;;<br />
				   		}<br />
				   })</p>
<p>				 temp.on(&quot;mouseover&quot;, function(d) {<br />
				                    var xPosition = d3.mouse(this)[0];<br />
				                    var yPosition = d3.mouse(this)[1] - 30;</p>
<p>				                    svg.append(&quot;text&quot;)<br />
				                        .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
				                        .attr(&quot;x&quot;, xPosition)<br />
				                        .attr(&quot;y&quot;, yPosition)<br />
				                        .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
				                        .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
				                        .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
				                        .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
				                        .attr(&quot;fill&quot;, &quot;black&quot;)<br />
				                        .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>				                    d3.select(this)<br />
				                    .style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
				                })<br />
				temp.on(&quot;mouseout&quot;, function(d) {<br />
				                    d3.select(&quot;#tooltip&quot;).remove();<br />
				                    d3.select(this)<br />
				                    .transition()<br />
				                    .duration(250)<br />
				        			.style(&quot;fill&quot;, function(d) {<br />
									   		//Get data value<br />
									   		var value = d.properties.value;</p>
<p>									   		if (value) {<br />
									   			//If value exists…<br />
										   		return color(value);<br />
									   		} else {<br />
									   			//If value is undefined…<br />
										   		return &quot;#ccc&quot;;<br />
									   		}<br />
				                });<br />
				})<br />
			});</p>
<p>				});</p>
<p>			});</p>
<p>			d3.select(&quot;.yr2001&quot;)</p>
<p>				.on(&quot;click&quot;, function() {<br />
				//Do something mundane and annoying on click<br />
                d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
				d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
				.style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
				d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;).style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
				d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
				.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
				d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
				.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
								   d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
								   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>				d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2001.csv&quot;, function(data) {</p>
<p>					//Set input domain for color scale<br />
					//color.domain([<br />
					//	d3.min(data, function(d) { return d.value; }),<br />
					//	d3.max(data, function(d) { return d.value; })<br />
					//]);</p>
<p>					//Load in GeoJSON data<br />
					d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>						//Merge the ag. data and GeoJSON<br />
						//Loop through once for each ag. data value<br />
						for (var i = 0; i &lt; data.length; i++) {</p>
<p>							//Grab state name<br />
							var dataState = data[i].state;</p>
<p>							//Grab data value, and convert from string to float<br />
							var dataValue = parseFloat(data[i].value);</p>
<p>							//Find the corresponding state inside the GeoJSON<br />
							for (var j = 0; j &lt; json.features.length; j++) {</p>
<p>								var jsonState = json.features[j].properties.name;</p>
<p>								if (dataState == jsonState) {</p>
<p>									//Copy the data value into the JSON<br />
									json.features[j].properties.value = dataValue;</p>
<p>									//Stop looking through the JSON<br />
									break;</p>
<p>								}<br />
							}<br />
						}</p>
<p>						//Bind data and create one path per GeoJSON feature</p>
<p>						var temp = svg.selectAll(&quot;path&quot;)<br />
						   .data(json.features)</p>
<p>						temp.transition()<br />
							.duration(1000)<br />
						   .ease(&quot;linear&quot;)<br />
					   	   .attr(&quot;d&quot;, path)</p>
<p>						   .style(&quot;fill&quot;, function(d) {<br />
						   		//Get data value<br />
						   		var value = d.properties.value;</p>
<p>						   		if (value) {<br />
						   			//If value exists…<br />
							   		return color(value);<br />
						   		} else {<br />
						   			//If value is undefined…<br />
							   		return &quot;#ccc&quot;;<br />
						   		}<br />
						   })</p>
<p>						 temp.on(&quot;mouseover&quot;, function(d) {<br />
						                    var xPosition = d3.mouse(this)[0];<br />
						                    var yPosition = d3.mouse(this)[1] - 30;</p>
<p>						                    svg.append(&quot;text&quot;)<br />
						                        .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
						                        .attr(&quot;x&quot;, xPosition)<br />
						                        .attr(&quot;y&quot;, yPosition)<br />
						                        .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
						                        .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
						                        .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
						                        .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
						                        .attr(&quot;fill&quot;, &quot;black&quot;)<br />
						                        .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>						                    d3.select(this)<br />
						                    .style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
						                })<br />
						temp.on(&quot;mouseout&quot;, function(d) {<br />
						                    d3.select(&quot;#tooltip&quot;).remove();<br />
						                    d3.select(this)<br />
						                    .transition()<br />
						                    .duration(250)<br />
						        			.style(&quot;fill&quot;, function(d) {<br />
											   		//Get data value<br />
											   		var value = d.properties.value;</p>
<p>											   		if (value) {<br />
											   			//If value exists…<br />
												   		return color(value);<br />
											   		} else {<br />
											   			//If value is undefined…<br />
												   		return &quot;#ccc&quot;;<br />
											   		}<br />
						                });<br />
						})<br />
					});</p>
<p>						});</p>
<p>					});<br />
d3.select(&quot;.yr2002&quot;)</p>
<p>   .on(&quot;click&quot;, function() {<br />
   //Do something mundane and annoying on click<br />
   d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
   d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
   d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>   d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2002.csv&quot;, function(data) {</p>
<p>   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>   		for (var i = 0; i &lt; data.length; i++) {<br />
   			var dataState = data[i].state;<br />
   			var dataValue = parseFloat(data[i].value);<br />
   			for (var j = 0; j &lt; json.features.length; j++) {<br />
   				var jsonState = json.features[j].properties.name;<br />
   				if (dataState == jsonState) {<br />
   					json.features[j].properties.value = dataValue;<br />
   					break;<br />
   				}<br />
   			}<br />
   		}</p>
<p>   		var temp = svg.selectAll(&quot;path&quot;)<br />
   		   .data(json.features)</p>
<p>   		temp.transition()<br />
   			.duration(1000)<br />
   		   .ease(&quot;linear&quot;)<br />
   	   	   .attr(&quot;d&quot;, path)</p>
<p>   		   .style(&quot;fill&quot;, function(d) {<br />
   		   		var value = d.properties.value;<br />
   		   		if (value) {<br />
   			   		return color(value);<br />
   		   		} else {<br />
   			   		return &quot;#ccc&quot;;<br />
   		   		}<br />
   		   })</p>
<p>   		 temp.on(&quot;mouseover&quot;, function(d) {<br />
   		                    var xPosition = d3.mouse(this)[0];<br />
   		                    var yPosition = d3.mouse(this)[1] - 30;</p>
<p>   		                    svg.append(&quot;text&quot;)<br />
   		                        .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
   		                        .attr(&quot;x&quot;, xPosition)<br />
   		                        .attr(&quot;y&quot;, yPosition)<br />
   		                        .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
   		                        .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
   		                        .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
   		                        .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
   		                        .attr(&quot;fill&quot;, &quot;black&quot;)<br />
   		                        .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>   		d3.select(this)<br />
   			.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
   		    })<br />
   		temp.on(&quot;mouseout&quot;, function(d) {<br />
   	        d3.select(&quot;#tooltip&quot;).remove();<br />
   	        d3.select(this)<br />
   	        .transition()<br />
   	        .duration(250)<br />
   	    	.style(&quot;fill&quot;, function(d) {<br />
   	    	   		//Get data value<br />
   	    	   		var value = d.properties.value;</p>
<p>   	    	   		if (value) {<br />
   	    	   			//If value exists…<br />
   	    		   		return color(value);<br />
   	    	   		} else {<br />
   	    	   			//If value is undefined…<br />
   	    		   		return &quot;#ccc&quot;;<br />
   	    	   		}<br />
   		                });<br />
   		})</p>
<p>		});</p>
<p>	});</p>
<p>					});</p>
<p>   d3.select(&quot;.yr2003&quot;)</p>
<p>      .on(&quot;click&quot;, function() {<br />
      //Do something mundane and annoying on click<br />
	d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
	d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
	d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
					   d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
					   	.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>					   d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2003.csv&quot;, function(data) {</p>
<p>					   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>					   		for (var i = 0; i &lt; data.length; i++) {<br />
					   			var dataState = data[i].state;<br />
					   			var dataValue = parseFloat(data[i].value);<br />
					   			for (var j = 0; j &lt; json.features.length; j++) {<br />
					   				var jsonState = json.features[j].properties.name;<br />
					   				if (dataState == jsonState) {<br />
					   					json.features[j].properties.value = dataValue;<br />
					   					break;<br />
					   				}<br />
					   			}<br />
					   		}</p>
<p>					   		var temp = svg.selectAll(&quot;path&quot;)<br />
					   		   .data(json.features)</p>
<p>					   		temp.transition()<br />
					   			.duration(1000)<br />
					   		   .ease(&quot;linear&quot;)<br />
					   	   	   .attr(&quot;d&quot;, path)</p>
<p>					   		   .style(&quot;fill&quot;, function(d) {<br />
					   		   		var value = d.properties.value;<br />
					   		   		if (value) {<br />
					   			   		return color(value);<br />
					   		   		} else {<br />
					   			   		return &quot;#ccc&quot;;<br />
					   		   		}<br />
					   		   })</p>
<p>					   		 temp.on(&quot;mouseover&quot;, function(d) {<br />
					   		                    var xPosition = d3.mouse(this)[0];<br />
					   		                    var yPosition = d3.mouse(this)[1] - 30;</p>
<p>					   		                    svg.append(&quot;text&quot;)<br />
					   		                        .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
					   		                        .attr(&quot;x&quot;, xPosition)<br />
					   		                        .attr(&quot;y&quot;, yPosition)<br />
					   		                        .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
					   		                        .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
					   		                        .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
					   		                        .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
					   		                        .attr(&quot;fill&quot;, &quot;black&quot;)<br />
					   		                        .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>					   		d3.select(this)<br />
					   			.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
					   		    })<br />
					   		temp.on(&quot;mouseout&quot;, function(d) {<br />
					   	        d3.select(&quot;#tooltip&quot;).remove();<br />
					   	        d3.select(this)<br />
					   	        .transition()<br />
					   	        .duration(250)<br />
					   	    	.style(&quot;fill&quot;, function(d) {<br />
					   	    	   		//Get data value<br />
					   	    	   		var value = d.properties.value;</p>
<p>					   	    	   		if (value) {<br />
					   	    	   			//If value exists…<br />
					   	    		   		return color(value);<br />
					   	    	   		} else {<br />
					   	    	   			//If value is undefined…<br />
					   	    		   		return &quot;#ccc&quot;;<br />
					   	    	   		}<br />
					   		                });<br />
					   		})</p>
<p>							});</p>
<p>						});</p>
<p>										});<br />
 d3.select(&quot;.yr2004&quot;)<br />
.on(&quot;click&quot;, function() {<br />
d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
 d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p> d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2004.csv&quot;, function(data) {</p>
<p>														   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>    for (var i = 0; i &lt; data.length; i++) {<br />
	var dataState = data[i].state;<br />
	var dataValue = parseFloat(data[i].value);<br />
for (var j = 0; j &lt; json.features.length; j++) {<br />
var jsonState = json.features[j].properties.name;<br />
if (dataState == jsonState) {<br />
json.features[j].properties.value = dataValue;<br />
 				break;<br />
 			}<br />
 		}<br />
 	}</p>
<p>	var temp = svg.selectAll(&quot;path&quot;)<br />
	   .data(json.features)</p>
<p>	temp.transition()<br />
		.duration(1000)<br />
	   .ease(&quot;linear&quot;)<br />
   	   .attr(&quot;d&quot;, path)</p>
<p>   .style(&quot;fill&quot;, function(d) {<br />
   		var value = d.properties.value;<br />
     		if (value) {<br />
  	   		return color(value);<br />
     		} else {<br />
  	   		return &quot;#ccc&quot;;<br />
     		}<br />
     })</p>
<p>   temp.on(&quot;mouseover&quot;, function(d) {<br />
                      var xPosition = d3.mouse(this)[0];<br />
														   		                    var yPosition = d3.mouse(this)[1] - 30;</p>
<p>svg.append(&quot;text&quot;)<br />
.attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
.attr(&quot;x&quot;, xPosition)<br />
.attr(&quot;y&quot;, yPosition)<br />
.attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
.attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
.attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
.attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
.attr(&quot;fill&quot;, &quot;black&quot;)<br />
.text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>    d3.select(this)<br />
    	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
        })<br />
    temp.on(&quot;mouseout&quot;, function(d) {<br />
        d3.select(&quot;#tooltip&quot;).remove();<br />
        d3.select(this)<br />
        .transition()<br />
        .duration(250)<br />
    	.style(&quot;fill&quot;, function(d) {<br />
    	   		//Get data value<br />
    	   		var value = d.properties.value;</p>
<p>  if (value) {<br />
 		return color(value);<br />
  } else {<br />
 		   		return &quot;#ccc&quot;;<br />
 	   		}<br />
	   		                });<br />
	   		})<br />
			});<br />
		});<br />
						});</p>
<p>d3.select(&quot;.yr2005&quot;)<br />
.on(&quot;click&quot;, function() {<br />
d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
 d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
.style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p> d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2005.csv&quot;, function(data) {</p>
<p>														   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>    for (var i = 0; i &lt; data.length; i++) {<br />
	var dataState = data[i].state;<br />
	var dataValue = parseFloat(data[i].value);<br />
for (var j = 0; j &lt; json.features.length; j++) {<br />
var jsonState = json.features[j].properties.name;<br />
if (dataState == jsonState) {<br />
json.features[j].properties.value = dataValue;<br />
 				break;<br />
 			}<br />
 		}<br />
 	}</p>
<p>	var temp = svg.selectAll(&quot;path&quot;)<br />
	   .data(json.features)</p>
<p>	temp.transition()<br />
		.duration(1000)<br />
	   .ease(&quot;linear&quot;)<br />
   	   .attr(&quot;d&quot;, path)</p>
<p>   .style(&quot;fill&quot;, function(d) {<br />
   		var value = d.properties.value;<br />
     		if (value) {<br />
  	   		return color(value);<br />
     		} else {<br />
  	   		return &quot;#ccc&quot;;<br />
     		}<br />
     })</p>
<p>   temp.on(&quot;mouseover&quot;, function(d) {<br />
                      var xPosition = d3.mouse(this)[0];<br />
					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>svg.append(&quot;text&quot;)<br />
.attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
.attr(&quot;x&quot;, xPosition)<br />
.attr(&quot;y&quot;, yPosition)<br />
.attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
.attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
.attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
.attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
.attr(&quot;fill&quot;, &quot;black&quot;)<br />
.text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>    d3.select(this)<br />
    	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
        })<br />
    temp.on(&quot;mouseout&quot;, function(d) {<br />
        d3.select(&quot;#tooltip&quot;).remove();<br />
        d3.select(this)<br />
        .transition()<br />
        .duration(250)<br />
    	.style(&quot;fill&quot;, function(d) {<br />
    	   		//Get data value<br />
    	   		var value = d.properties.value;</p>
<p>  if (value) {<br />
 		return color(value);<br />
  } else {<br />
 		   		return &quot;#ccc&quot;;<br />
	 	   		}<br />
		   		                });<br />
		   		})</p>
<p>				});</p>
<p>			});<br />
							});</p>
<p>d3.select(&quot;.yr2006&quot;)<br />
 .on(&quot;click&quot;, function() {<br />
 d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
  d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
  d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
 d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
 d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p> d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2006.csv&quot;, function(data) {</p>
<p>																					   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>      for (var i = 0; i &lt; data.length; i++) {<br />
  	var dataState = data[i].state;<br />
  	var dataValue = parseFloat(data[i].value);<br />
  for (var j = 0; j &lt; json.features.length; j++) {<br />
  var jsonState = json.features[j].properties.name;<br />
  if (dataState == jsonState) {<br />
  json.features[j].properties.value = dataValue;<br />
   				break;<br />
   			}<br />
   		}<br />
   	}</p>
<p>  	var temp = svg.selectAll(&quot;path&quot;)<br />
  	   .data(json.features)</p>
<p>  	temp.transition()<br />
  		.duration(1000)<br />
  	   .ease(&quot;linear&quot;)<br />
     	   .attr(&quot;d&quot;, path)</p>
<p>     .style(&quot;fill&quot;, function(d) {<br />
     		var value = d.properties.value;<br />
       		if (value) {<br />
    	   		return color(value);<br />
       		} else {<br />
    	   		return &quot;#ccc&quot;;<br />
       		}<br />
       })</p>
<p>     temp.on(&quot;mouseover&quot;, function(d) {<br />
                        var xPosition = d3.mouse(this)[0];<br />
  					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>  svg.append(&quot;text&quot;)<br />
  .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
  .attr(&quot;x&quot;, xPosition)<br />
  .attr(&quot;y&quot;, yPosition)<br />
  .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
  .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
  .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
  .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
  .attr(&quot;fill&quot;, &quot;black&quot;)<br />
  .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>      d3.select(this)<br />
      	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
          })<br />
      temp.on(&quot;mouseout&quot;, function(d) {<br />
          d3.select(&quot;#tooltip&quot;).remove();<br />
          d3.select(this)<br />
          .transition()<br />
          .duration(250)<br />
      	.style(&quot;fill&quot;, function(d) {<br />
      	   		//Get data value<br />
      	   		var value = d.properties.value;</p>
<p>    if (value) {<br />
   		return color(value);<br />
    } else {<br />
   		   		return &quot;#ccc&quot;;<br />
  	 	   		}<br />
  		   		                });<br />
  		   		})</p>
<p>  				});<br />
  			});<br />
  							});</p>
<p>   d3.select(&quot;.yr2007&quot;)<br />
    .on(&quot;click&quot;, function() {<br />
    d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
    d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>							 d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2007.csv&quot;, function(data) {</p>
<p>																												   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>							      for (var i = 0; i &lt; data.length; i++) {<br />
							  	var dataState = data[i].state;<br />
							  	var dataValue = parseFloat(data[i].value);<br />
							  for (var j = 0; j &lt; json.features.length; j++) {<br />
							  var jsonState = json.features[j].properties.name;<br />
							  if (dataState == jsonState) {<br />
							  json.features[j].properties.value = dataValue;<br />
							   				break;<br />
							   			}<br />
							   		}<br />
							   	}</p>
<p>							  	var temp = svg.selectAll(&quot;path&quot;)<br />
							  	   .data(json.features)</p>
<p>							  	temp.transition()<br />
							  		.duration(1000)<br />
							  	   .ease(&quot;linear&quot;)<br />
							     	   .attr(&quot;d&quot;, path)</p>
<p>							     .style(&quot;fill&quot;, function(d) {<br />
							     		var value = d.properties.value;<br />
							       		if (value) {<br />
							    	   		return color(value);<br />
							       		} else {<br />
							    	   		return &quot;#ccc&quot;;<br />
							       		}<br />
							       })</p>
<p>							     temp.on(&quot;mouseover&quot;, function(d) {<br />
							                        var xPosition = d3.mouse(this)[0];<br />
							  					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>							  svg.append(&quot;text&quot;)<br />
							  .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
							  .attr(&quot;x&quot;, xPosition)<br />
							  .attr(&quot;y&quot;, yPosition)<br />
							  .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
							  .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
							  .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
							  .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
							  .attr(&quot;fill&quot;, &quot;black&quot;)<br />
							  .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>							      d3.select(this)<br />
							      	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
							          })<br />
							      temp.on(&quot;mouseout&quot;, function(d) {<br />
							          d3.select(&quot;#tooltip&quot;).remove();<br />
							          d3.select(this)<br />
							          .transition()<br />
							          .duration(250)<br />
							      	.style(&quot;fill&quot;, function(d) {<br />
							      	   		//Get data value<br />
							      	   		var value = d.properties.value;</p>
<p>							    if (value) {<br />
							   		return color(value);<br />
							    } else {<br />
							   		   		return &quot;#ccc&quot;;<br />
							  	 	   		}<br />
							  		   		                });<br />
							  		   		})</p>
<p>							  				});<br />
							  			});<br />
							  							});</p>
<p>d3.select(&quot;.yr2008&quot;)<br />
 .on(&quot;click&quot;, function() {<br />
 d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
 .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
    d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
    d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>    d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2008.csv&quot;, function(data) {</p>
<p>																																									   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>        for (var i = 0; i &lt; data.length; i++) {<br />
    	var dataState = data[i].state;<br />
    	var dataValue = parseFloat(data[i].value);<br />
    for (var j = 0; j &lt; json.features.length; j++) {<br />
    var jsonState = json.features[j].properties.name;<br />
    if (dataState == jsonState) {<br />
    json.features[j].properties.value = dataValue;<br />
     				break;<br />
     			}<br />
     		}<br />
     	}</p>
<p>    	var temp = svg.selectAll(&quot;path&quot;)<br />
    	   .data(json.features)</p>
<p>    	temp.transition()<br />
    		.duration(1000)<br />
    	   .ease(&quot;linear&quot;)<br />
       	   .attr(&quot;d&quot;, path)</p>
<p>       .style(&quot;fill&quot;, function(d) {<br />
       		var value = d.properties.value;<br />
         		if (value) {<br />
      	   		return color(value);<br />
         		} else {<br />
      	   		return &quot;#ccc&quot;;<br />
         		}<br />
         })</p>
<p>       temp.on(&quot;mouseover&quot;, function(d) {<br />
                          var xPosition = d3.mouse(this)[0];<br />
    					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>    svg.append(&quot;text&quot;)<br />
    .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
    .attr(&quot;x&quot;, xPosition)<br />
    .attr(&quot;y&quot;, yPosition)<br />
    .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
    .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
    .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
    .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
    .attr(&quot;fill&quot;, &quot;black&quot;)<br />
    .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>      d3.select(this)<br />
      	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
          })<br />
      temp.on(&quot;mouseout&quot;, function(d) {<br />
          d3.select(&quot;#tooltip&quot;).remove();<br />
          d3.select(this)<br />
          .transition()<br />
          .duration(250)<br />
      	.style(&quot;fill&quot;, function(d) {<br />
      	   		//Get data value<br />
      	   		var value = d.properties.value;</p>
<p>    if (value) {<br />
   		return color(value);<br />
    } else {<br />
   		   		return &quot;#ccc&quot;;<br />
  	 	   		}<br />
  		   		                });<br />
  		   		})</p>
<p>  				});<br />
  			});<br />
  							});</p>
<p>   d3.select(&quot;.yr2009&quot;)<br />
    .on(&quot;click&quot;, function() {<br />
    d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
        d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
        d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
       d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>       d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2009.csv&quot;, function(data) {</p>
<p>																																																   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>         for (var i = 0; i &lt; data.length; i++) {<br />
     	var dataState = data[i].state;<br />
     	var dataValue = parseFloat(data[i].value);<br />
     for (var j = 0; j &lt; json.features.length; j++) {<br />
     var jsonState = json.features[j].properties.name;<br />
     if (dataState == jsonState) {<br />
     json.features[j].properties.value = dataValue;<br />
      				break;<br />
      			}<br />
      		}<br />
      	}</p>
<p>     	var temp = svg.selectAll(&quot;path&quot;)<br />
     	   .data(json.features)</p>
<p>     	temp.transition()<br />
     		.duration(1000)<br />
     	   .ease(&quot;linear&quot;)<br />
        	   .attr(&quot;d&quot;, path)</p>
<p>        .style(&quot;fill&quot;, function(d) {<br />
        		var value = d.properties.value;<br />
          		if (value) {<br />
       	   		return color(value);<br />
          		} else {<br />
       	   		return &quot;#ccc&quot;;<br />
          		}<br />
          })</p>
<p>        temp.on(&quot;mouseover&quot;, function(d) {<br />
                           var xPosition = d3.mouse(this)[0];<br />
     					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>     svg.append(&quot;text&quot;)<br />
     .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
     .attr(&quot;x&quot;, xPosition)<br />
     .attr(&quot;y&quot;, yPosition)<br />
     .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
     .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
     .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
     .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
     .attr(&quot;fill&quot;, &quot;black&quot;)<br />
     .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>       d3.select(this)<br />
       	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
           })<br />
       temp.on(&quot;mouseout&quot;, function(d) {<br />
           d3.select(&quot;#tooltip&quot;).remove();<br />
           d3.select(this)<br />
           .transition()<br />
           .duration(250)<br />
       	.style(&quot;fill&quot;, function(d) {<br />
       	   		//Get data value<br />
       	   		var value = d.properties.value;</p>
<p>     if (value) {<br />
    		return color(value);<br />
     } else {<br />
    		   		return &quot;#ccc&quot;;<br />
   	 	   		}<br />
   		   		                });<br />
   		   		})</p>
<p>   				});<br />
   			});<br />
   							});</p>
<p>  d3.select(&quot;.yr2010&quot;)<br />
   .on(&quot;click&quot;, function() {<br />
   d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
   .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
      d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
      .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>      d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2010.csv&quot;, function(data) {</p>
<p>																																																						   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>        for (var i = 0; i &lt; data.length; i++) {<br />
    	var dataState = data[i].state;<br />
    	var dataValue = parseFloat(data[i].value);<br />
    for (var j = 0; j &lt; json.features.length; j++) {<br />
    var jsonState = json.features[j].properties.name;<br />
    if (dataState == jsonState) {<br />
    json.features[j].properties.value = dataValue;<br />
     				break;<br />
     			}<br />
     		}<br />
     	}</p>
<p>    	var temp = svg.selectAll(&quot;path&quot;)<br />
    	   .data(json.features)</p>
<p>    	temp.transition()<br />
    		.duration(1000)<br />
    	   .ease(&quot;linear&quot;)<br />
       	   .attr(&quot;d&quot;, path)</p>
<p>       .style(&quot;fill&quot;, function(d) {<br />
       		var value = d.properties.value;<br />
         		if (value) {<br />
      	   		return color(value);<br />
         		} else {<br />
      	   		return &quot;#ccc&quot;;<br />
         		}<br />
         })</p>
<p>       temp.on(&quot;mouseover&quot;, function(d) {<br />
                          var xPosition = d3.mouse(this)[0];<br />
    					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>    svg.append(&quot;text&quot;)<br />
    .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
    .attr(&quot;x&quot;, xPosition)<br />
    .attr(&quot;y&quot;, yPosition)<br />
    .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
    .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
    .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
    .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
    .attr(&quot;fill&quot;, &quot;black&quot;)<br />
    .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>      d3.select(this)<br />
      	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
          })<br />
      temp.on(&quot;mouseout&quot;, function(d) {<br />
          d3.select(&quot;#tooltip&quot;).remove();<br />
          d3.select(this)<br />
          .transition()<br />
          .duration(250)<br />
      	.style(&quot;fill&quot;, function(d) {<br />
      	   		//Get data value<br />
      	   		var value = d.properties.value;</p>
<p>    if (value) {<br />
   		return color(value);<br />
    } else {<br />
   		   		return &quot;#ccc&quot;;<br />
  	 	   		}<br />
  		   		                });<br />
  		   		})</p>
<p>  				});<br />
  			});<br />
  							});</p>
<p> d3.select(&quot;.yr2011&quot;)<br />
  .on(&quot;click&quot;, function() {<br />
  d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
  .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
     d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>     d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2011.csv&quot;, function(data) {</p>
<p>																																																												   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>         for (var i = 0; i &lt; data.length; i++) {<br />
     	var dataState = data[i].state;<br />
     	var dataValue = parseFloat(data[i].value);<br />
     for (var j = 0; j &lt; json.features.length; j++) {<br />
     var jsonState = json.features[j].properties.name;<br />
     if (dataState == jsonState) {<br />
     json.features[j].properties.value = dataValue;<br />
      				break;<br />
      			}<br />
      		}<br />
      	}</p>
<p>     	var temp = svg.selectAll(&quot;path&quot;)<br />
     	   .data(json.features)</p>
<p>     	temp.transition()<br />
     		.duration(1000)<br />
     	   .ease(&quot;linear&quot;)<br />
        	   .attr(&quot;d&quot;, path)</p>
<p>        .style(&quot;fill&quot;, function(d) {<br />
        		var value = d.properties.value;<br />
          		if (value) {<br />
       	   		return color(value);<br />
          		} else {<br />
       	   		return &quot;#ccc&quot;;<br />
          		}<br />
          })</p>
<p>        temp.on(&quot;mouseover&quot;, function(d) {<br />
                           var xPosition = d3.mouse(this)[0];<br />
     					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>     svg.append(&quot;text&quot;)<br />
     .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
     .attr(&quot;x&quot;, xPosition)<br />
     .attr(&quot;y&quot;, yPosition)<br />
     .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
     .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
     .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
     .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
     .attr(&quot;fill&quot;, &quot;black&quot;)<br />
     .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>       d3.select(this)<br />
       	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
           })<br />
       temp.on(&quot;mouseout&quot;, function(d) {<br />
           d3.select(&quot;#tooltip&quot;).remove();<br />
           d3.select(this)<br />
           .transition()<br />
           .duration(250)<br />
       	.style(&quot;fill&quot;, function(d) {<br />
       	   		//Get data value<br />
       	   		var value = d.properties.value;</p>
<p>     if (value) {<br />
    		return color(value);<br />
     } else {<br />
    		   		return &quot;#ccc&quot;;<br />
   	 	   		}<br />
   		   		                });<br />
   		   		})</p>
<p>   				});<br />
   			});<br />
   							});</p>
<p>   d3.select(&quot;.yr2012&quot;)<br />
    .on(&quot;click&quot;, function() {<br />
    d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
        d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
        d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
       d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)<br />
       d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
       .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)</p>
<p>       d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2012.csv&quot;, function(data) {</p>
<p>  																																																												   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>           for (var i = 0; i &lt; data.length; i++) {<br />
       	var dataState = data[i].state;<br />
       	var dataValue = parseFloat(data[i].value);<br />
       for (var j = 0; j &lt; json.features.length; j++) {<br />
       var jsonState = json.features[j].properties.name;<br />
       if (dataState == jsonState) {<br />
       json.features[j].properties.value = dataValue;<br />
        				break;<br />
        			}<br />
        		}<br />
        	}</p>
<p>       	var temp = svg.selectAll(&quot;path&quot;)<br />
       	   .data(json.features)</p>
<p>       	temp.transition()<br />
       		.duration(1000)<br />
       	   .ease(&quot;linear&quot;)<br />
          	   .attr(&quot;d&quot;, path)</p>
<p>          .style(&quot;fill&quot;, function(d) {<br />
          		var value = d.properties.value;<br />
            		if (value) {<br />
         	   		return color(value);<br />
            		} else {<br />
         	   		return &quot;#ccc&quot;;<br />
            		}<br />
            })</p>
<p>          temp.on(&quot;mouseover&quot;, function(d) {<br />
                             var xPosition = d3.mouse(this)[0];<br />
       					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>       svg.append(&quot;text&quot;)<br />
       .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
       .attr(&quot;x&quot;, xPosition)<br />
       .attr(&quot;y&quot;, yPosition)<br />
       .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
       .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
       .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
       .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
       .attr(&quot;fill&quot;, &quot;black&quot;)<br />
       .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>         d3.select(this)<br />
         	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
             })<br />
         temp.on(&quot;mouseout&quot;, function(d) {<br />
             d3.select(&quot;#tooltip&quot;).remove();<br />
             d3.select(this)<br />
             .transition()<br />
             .duration(250)<br />
         	.style(&quot;fill&quot;, function(d) {<br />
         	   		//Get data value<br />
         	   		var value = d.properties.value;</p>
<p>       if (value) {<br />
      		return color(value);<br />
       } else {<br />
      		   		return &quot;#ccc&quot;;<br />
     	 	   		}<br />
     		   		                });<br />
     		   		})</p>
<p>     				});<br />
     			});<br />
     							});</p>
<p> d3.select(&quot;.yr2013&quot;)<br />
  .on(&quot;click&quot;, function() {<br />
  d3.select(&quot;.yr2000&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
  .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2001&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2002&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2003&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2004&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2005&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
      d3.select(&quot;.yr2006&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2007&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2008&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2009&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2010&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2011&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2012&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
    .style(&quot;font-weight&quot;, &quot;normal&quot;).style(&quot;font-size&quot;, &quot;10px&quot;).style(&quot;fill&quot;, &quot;black&quot;)<br />
     d3.select(&quot;.yr2013&quot;).transition().duration(500).ease(&quot;back&quot;)<br />
     .style(&quot;font-weight&quot;, &quot;bold&quot;).style(&quot;font-size&quot;, &quot;12px&quot;).style(&quot;fill&quot;, &quot;purple&quot;)</p>
<p>     d3.csv(&quot;http://www.khasachi.com/wppost/unemployment2013.csv&quot;, function(data) {</p>
<p>																																																												   	d3.json(&quot;http://www.khasachi.com/wppost/usstates.json&quot;, function(json) {</p>
<p>         for (var i = 0; i &lt; data.length; i++) {<br />
     	var dataState = data[i].state;<br />
     	var dataValue = parseFloat(data[i].value);<br />
     for (var j = 0; j &lt; json.features.length; j++) {<br />
     var jsonState = json.features[j].properties.name;<br />
     if (dataState == jsonState) {<br />
     json.features[j].properties.value = dataValue;<br />
      				break;<br />
      			}<br />
      		}<br />
      	}</p>
<p>     	var temp = svg.selectAll(&quot;path&quot;)<br />
     	   .data(json.features)</p>
<p>     	temp.transition()<br />
     		.duration(1000)<br />
     	   .ease(&quot;linear&quot;)<br />
        	   .attr(&quot;d&quot;, path)</p>
<p>        .style(&quot;fill&quot;, function(d) {<br />
        		var value = d.properties.value;<br />
          		if (value) {<br />
       	   		return color(value);<br />
          		} else {<br />
       	   		return &quot;#ccc&quot;;<br />
          		}<br />
          })</p>
<p>        temp.on(&quot;mouseover&quot;, function(d) {<br />
                           var xPosition = d3.mouse(this)[0];<br />
     					var yPosition = d3.mouse(this)[1] - 30;</p>
<p>     svg.append(&quot;text&quot;)<br />
     .attr(&quot;id&quot;, &quot;tooltip&quot;)<br />
     .attr(&quot;x&quot;, xPosition)<br />
     .attr(&quot;y&quot;, yPosition)<br />
     .attr(&quot;text-anchor&quot;, &quot;middle&quot;)<br />
     .attr(&quot;font-family&quot;, &quot;sans-serif&quot;)<br />
     .attr(&quot;font-size&quot;, &quot;11px&quot;)<br />
     .attr(&quot;font-weight&quot;, &quot;bold&quot;)<br />
     .attr(&quot;fill&quot;, &quot;black&quot;)<br />
     .text(d.properties.name + &quot;, &quot; +  d3.round(d.properties.value *100, 1) + &quot;%&quot; ); </p>
<p>       d3.select(this)<br />
       	.style(&quot;fill&quot;, &quot;#509e2f&quot;);<br />
           })<br />
       temp.on(&quot;mouseout&quot;, function(d) {<br />
           d3.select(&quot;#tooltip&quot;).remove();<br />
           d3.select(this)<br />
           .transition()<br />
           .duration(250)<br />
       	.style(&quot;fill&quot;, function(d) {<br />
       	   		//Get data value<br />
       	   		var value = d.properties.value;</p>
<p>     if (value) {<br />
    		return color(value);<br />
     } else {<br />
    		   		return &quot;#ccc&quot;;<br />
   	 	   		}<br />
   		   		                });<br />
   		   		})</p>
<p>   				});<br />
   			});<br />
   							});</p>
<p>	});<br />
		});</p>
<p><!--/raw--></p>
